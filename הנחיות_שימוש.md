# הנחיות שימוש - בוט Yad2 Scraper

## סטטוס הבוט

✅ **הבוט פועל בהצלחה!**

## פרטי הבוט

- **שם הבוט**: Service scraper
- **שם משתמש**: @Yad2bot_scraper_bot
- **מזהה בוט**: 8546328439
- **טוקן**: 8546328439:AAH4di2gGgnExuotaM5K9PGpYVVUlDfmjnE

## קישור לבוט

ניתן לגשת לבוט בטלגרם דרך הקישור הבא:
**https://t.me/Yad2bot_scraper_bot**

## תכונות הבוט

הבוט מבוסס על הקוד מהספריה `yad2bot-service-scraper` וכולל את התכונות הבאות:

1. **סריקת מודעות יד2** - איסוף מידע על מודעות דירות להשכרה ולמכירה
2. **ניהול WhatsApp** - שליחת הודעות אוטומטיות דרך WhatsApp
3. **מערכת בונוסים** - ניהול קרדיטים ובונוסים למשתמשים
4. **תזמון אוטומטי** - הגדרת משימות אוטומטיות לסריקה ושליחת הודעות
5. **מעקב אחר פעילות** - לוגים ומעקב אחר כל הפעולות

## פקודות זמינות

- `/start` - התחלת עבודה עם הבוט והצגת התפריט הראשי

## מבנה הקבצים

```
/home/ubuntu/yad2bot-service-scraper/
├── scraper_service_bot_main.py    # קובץ ראשי להרצת הבוט
├── bot_handlers.py                # מטפלי פקודות וכפתורים
├── bot_menus.py                   # תפריטים ואינטראקציות
├── database.py                    # ניהול מסד נתונים SQLite
├── scraper_manager_final.py      # ניהול סריקת יד2
├── whatsapp_manager.py            # ניהול WhatsApp
├── bonus_manager.py               # ניהול בונוסים
├── yad2bot.env                    # קובץ הגדרות עם הטוקן
├── yad2bot.db                     # מסד נתונים SQLite
└── venv/                          # סביבה וירטואלית Python
```

## ניהול הבוט

### בדיקת סטטוס
```bash
ps aux | grep scraper_service_bot_main.py
```

### צפייה בלוגים בזמן אמת
```bash
tail -f /home/ubuntu/yad2bot-service-scraper/scraper_service_bot.log
```

### עצירת הבוט
```bash
pkill -f scraper_service_bot_main.py
```

### הפעלה מחדש של הבוט
```bash
cd /home/ubuntu/yad2bot-service-scraper
source venv/bin/activate
python scraper_service_bot_main.py &
```

## דרישות מערכת

הבוט דורש את הספריות הבאות (כבר מותקנות):
- python-telegram-bot (22.5)
- python-dotenv (1.2.1)
- pymysql (1.1.2)
- aiohttp (3.13.2)

## הערות חשובות

1. **מסד נתונים**: הבוט משתמש ב-SQLite מקומי לניהול משתמשים ופעילות
2. **חיבור ל-TiDB**: הבוט מוגדר להתחבר גם למסד נתונים ענן TiDB (פרטי החיבור בקובץ database.py)
3. **ערוץ חובה**: הבוט דורש הצטרפות לערוץ @yad2credits לפני שימוש
4. **קבצי לוג**: כל הפעילות נרשמת בקובץ `scraper_service_bot.log`

## תמיכה ותחזוקה

- לוגים נשמרים ב: `/home/ubuntu/yad2bot-service-scraper/scraper_service_bot.log`
- קובץ PID נשמר ב: `/home/ubuntu/yad2bot-service-scraper/scraper_service_bot.pid`
- הבוט מאתחל את עצמו אוטומטית במקרה של שגיאה

---

**תאריך יצירה**: 5 בדצמבר 2025
**גרסה**: 1.0
